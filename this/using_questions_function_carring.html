<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>JS-Learn</title>
  </head>
  <body>
    <script>
      "use strict";

      function ask(question, answer, ok, fail) {
        var result = prompt(question, '');
        if (result.toLowerCase() == answer.toLowerCase()) ok();
        else fail();
      }

      var user = {
        login: 'Василий',
        password: '12345',

        // метод для вызова из ask
        loginDone: function(result) {
          alert( this.login + (result ? ' вошёл в сайт' : ' ошибка входа') );
        },

        checkPassword: function() {
          ask("Ваш пароль?", this.password,
            this.loginDone.bind(this, true), this.loginDone.bind(this, false)
          );
          // var self = this
          // ask("Ваш пароль?", this.password,
          //   function() { self.loginDone(true) },
          //   function() { self.loginDone(false) }
          // );
        }
      };

      var vasya = user;
      user = null;
      vasya.checkPassword();
    </script>
  </body>
</html>
